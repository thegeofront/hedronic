<!DOCTYPE html>
<html lang="en">
<head>
    <title>cpp test</title>
</head>
<body>
    <script type="module">
        
        import init from "./cpp_min.js";
        
        console.time("init");
        let mod = await init();
        console.timeLog("init");

        let acc_distance = 0;
        let count = 1e6
        console.time(count + " iterations");
        for (let i = 0 ; i < count; i++) {            
            let p1 = new mod.Point(-1,-acc_distance);
            let p2 = new mod.Point(4, -acc_distance);
            acc_distance = mod.add(acc_distance, p1.distance(p2));
            p1.delete()
            p2.delete()
        }
        console.timeLog(count + " iterations");

    </script>
</body>
</html>